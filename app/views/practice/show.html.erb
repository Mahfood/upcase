<%= render "mentor_info" %>
<% content_for :page_title, "Practice" %>

<% if locked_features.any? %>
  <%= render "products/locked_features" %>
<% end %>

<section class="root-trails">
  <div class="content">
    <section class="trails-progress">
      <section class="subject">
        <h1>Welcome, <%= current_user.first_name %>.</h1>
        <h2>
          These new trails are focused exercises targeting your interests. They
          help you learn by doing and keep your skillset sharp.
        </h2>
      </section>

      <% if @practice.active_trails.any? %>
        <section class="active-trails">
          <span class="divider">
            <h4 class="text">Your Trails</h4>
          </span>
          <%= render partial: "practice/active_trail", collection: @practice.active_trails, as: :trail %>
        </section>
      <% end %>

      <% if @practice.completed_trails.any? %>
        <section class="completed-trails trails-progress">
          <span class="divider">
            <h4 class="text">Completed Trails</h4>
          </span>
          <section class="trails-complete">
            <%= render partial: "completed_trails/trail", collection: @practice.completed_trails, as: :trail %>
          </section>
        </section>
      <% end %>

      <footer>
        <% if @practice.has_completed_trails? %>
          <p>
            <%= link_to completed_trails_path do %>
              View completed trails &rarr;
            <% end %>
          </p>
        <% end %>

        <p>
          or
        </p>

        <p>
          <%= link_to "View all the old and new Trails", trails_path %>
        </p>
      </footer>
    </section>
  </div>
</section>
